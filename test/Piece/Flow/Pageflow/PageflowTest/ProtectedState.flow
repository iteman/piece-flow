# Copyright (c) 2012-2013 KUBO Atsuhiro <kubo@iteman.jp>,
# All rights reserved.
#
# This file is part of Piece_Flow.
#
# This program and the accompanying materials are made available under
# the terms of the BSD 2-Clause License which accompanies this
# distribution, and is available at http://opensource.org/licenses/BSD-2-Clause

firstState: Input

lastState:
  name: Finish
  view: Finish
  activity:
    method: onFinish

viewState:
  - name: __INITIAL__
    view: Input
    activity:
      method: onInput
    transition:
      - event: next
        nextState: Validation
  - name: Confirmation
    view: Confirmation
    activity:
      method: onConfirmation
    transition:
      - event: next
        nextState: Registration
      - event: prev
        nextState: Input

actionState:
  - name: Validation
    activity:
      method: onValidation
    transition:
      - event: invalid
        nextState: Input
      - event: valid
        nextState: Confirmation
  - name: Registration
    activity:
      method: onRegistration
    transition:
      - event: done
        nextState: Finish
